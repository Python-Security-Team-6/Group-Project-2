{% extends 'base.html' %}

{% block content %}

 <h1>News Feed</h1>
  {% for post in posts %}
    <div class='container border border-primary rounded p-3 my-3 bg-secondary-subtle'>
        {% if post.author.userprofile and post.author.userprofile.profile_picture %}
            <img src="{{ post.author.userprofile.profile_picture.url }}" alt="{{ post.author.username }}'s Profile Picture">
        {% else %}
            <img src="{% media 'default_profile_picture.jpg' %}" alt="{{ post.author.username }}'s Profile Picture">
        {% endif %}      
      <p><b>{{ post.user.username }}</b></p>
      <small>{{ post.created_at }}</small>
      <p style="white-space: pre-line; margin-top: 10px">{{ post.content }}</p>
      {% if post.image %}
                <img src="{{ post.image.url }}" alt="{{ post.title }} Image should have been here but it is not so just read the text.">
      {% endif %}
    </div>
  {% endfor %}

{% endblock %}